
open! Otfed__Basic
module Intermediate = Otfed__Intermediate


let marshaled =
  TestUtil.make_string_even [
    (* `ipaexm.ttf` (offset: 0x74ac94) with the bytes for GID >= 50 truncated *)
    0x0000; 0x0000; 0x0000; 0x00a0; 0x0000; 0x00a0; 0x0000; 0x00a0;
    0x0000; 0x00a0; 0x0000; 0x011c; 0x0000; 0x0190; 0x0000; 0x0290;
    0x0000; 0x03c8; 0x0000; 0x04e0; 0x0000; 0x0624; 0x0000; 0x066c;
    0x0000; 0x06cc; 0x0000; 0x072c; 0x0000; 0x0808; 0x0000; 0x087c;
    0x0000; 0x08c4; 0x0000; 0x08fc; 0x0000; 0x0948; 0x0000; 0x0984;
    0x0000; 0x0a24; 0x0000; 0x0a70; 0x0000; 0x0b58; 0x0000; 0x0c6c;
    0x0000; 0x0ccc; 0x0000; 0x0da4; 0x0000; 0x0e88; 0x0000; 0x0f0c;
    0x0000; 0x1004; 0x0000; 0x10e0; 0x0000; 0x115c; 0x0000; 0x11e0;
    0x0000; 0x122c; 0x0000; 0x1280; 0x0000; 0x12cc; 0x0000; 0x13ac;
    0x0000; 0x14f4; 0x0000; 0x1564; 0x0000; 0x1664; 0x0000; 0x1720;
    0x0000; 0x17e4; 0x0000; 0x18e8; 0x0000; 0x19d8; 0x0000; 0x1ad0;
    0x0000; 0x1be4; 0x0000; 0x1c70; 0x0000; 0x1d18; 0x0000; 0x1e10;
    0x0000; 0x1eb8; 0x0000; 0x1fb4;
  ]


let num_glyphs = 50


let loc_format = Intermediate.LongLocFormat


let cases =
  [
    (-1, Ok(None));
    (0, Ok(Some(Some((0, 160)))));
    (1, Ok(Some(None)));
    (4, Ok(Some(Some((160, 124)))));
    (50, Ok(None));
  ]
